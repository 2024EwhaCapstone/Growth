<!-- Template for PROJECT REPORT of CapstoneDesign 2025-2H, initially written by khyoo -->
<!-- 본 파일은 2025년도 컴공 졸업프로젝트의 <1차보고서> 작성을 위한 기본 양식입니다. -->
<!-- 아래에 "*"..."*" 표시는 italic체로 출력하기 위해서 사용한 것입니다. -->
<!-- "내용"에 해당하는 부분을 지우고, 여러분 과제의 내용을 작성해 주세요. -->

# **Team-Info**

| **(1) 과제명** | 냉장고 속 식재료의 신선도와 소비기한을 관리하고 AI 기반 맞춤형 레시피를 추천해주는 플랫폼 WEFRESH |
| --- | --- |
| (2) 팀 번호 / 팀 이름 | 12-미룬이들 |
| (3) 팀 구성원 | 최승연 (2176110): 리더, *프론트엔드, 외부 연락 담당* <br> 김승연 (2176110): 팀원, *프론트엔드, 일정 업데이트 담당* <br> 김채원 (2176110) : 팀원, *백엔드, 회의 안건 정리 담당*			 |
| (4) 팀 지도교수 | 심재형 교수님 |
| (5) 과제 분류 | *산학과제* |
| (6) 과제 키워드 | 유통기한 관리, 신선도 확인, OCR, 레시피 추천, 음식 낭비 방지 |
| (7) 과제 내용 요약 | WE FRESH는 AI 기반의 스마트 식재료 관리 시스템으로, 사용자가 등록한 식재료의 유통기한을 자동으로 추적합니다. 유통기한이 임박한 식재료는 색상으로 구분되어 한눈에 확인할 수 있어, 우선적으로 소비할 재료를 쉽게 관리할 수 있습니다. 냉장고 페이지에서는 식재료를 검색하거나 카테고리별로 분류하여 상세 정보를 빠르게 확인할 수 있습니다. 또한, 사용자가 원하는 재료를 선택하면 GPT가 자동으로 레시피를 추천하고, 자세한 요리법도 제공하여 남은 재료를 효과적으로 소비할 수 있습니다. 식재료의 정보를 직접 입력하는 번거로움을 없애기 위해, WE FRESH는 OCR 기술을 활용하여 사용자가 촬영한 식재료 정보를 자동으로 등록합니다. 또한, YOLO와 GPT-4ovision을 이용해 식재료의 신선도를 AI가 분석하여, 해당 식재료의 신선도에 대한 상세 내용을 알 수 있도록 돕습니다. 이러한 기능을 통해 WE FRESH는 식재료 관리의 효율성을 높이고, 사용자에게 더 나은 소비 경험을 제공합니다. AI 기반의 자동 등록과 신선도 분석으로, 재료의 낭비를 줄이고, 더 나은 식생활을 지원합니다. 식재료 관리의 번거로움을 줄여주는 WE FRESH는 현대인의 스마트한 라이프스타일에 최적화된 솔루션을 제공합니다. |

# **Project-Summary**

| **항목** | **내용** |
| --- | --- |
| (1) 문제 정의 | **Target Customer**<br>1회 소비량이 적어 음식이 자주 남고, 냉장고 정리에 어려움을 느끼는 사용자<br><br>**Pain Points**<br>1. 냉장고 속 재료의 유통기한을 일일히 확인하기 어려움<br>2. 유통기한이 지나서 버려지는 식재료가 많아짐<br>3. 육안으로 상했는지 판단하기 힘들어 버려지는 경우가 많음<br>4. 냉장고 속 재료로 어떤 요리를 할지 떠올리기 힘듦 |
| (2) 기존연구와의 비교 | ![Image](https://github.com/user-attachments/assets/9b6cf6e7-aab4-4547-a3e4-13d65589e921)| 
| (3) 제안 내용 | 1. 과일, 채소, 육류, 반찬, 냉동식품 등 카테고리별 식재료 관리로 냉장고 속 재료 손쉽게 확인 가능<br>2. 유통기한 임박 식재료를 자동으로 표시하여 음식 낭비 방지<br>3. GPT-4o Mini 모델 기반의 '오늘의 레시피' 및 ‘사용자 맞춤형 레시피’ 추천을 통해 요리 고민 해결<br>4. OCR 기반의 식재료 정보 스캔 및 자동 등록으로 번거로운 입력 과정 간소화<br>5 .YOLO 및 GPT-4 Vision을 활용한 식재료 신선도 분석 및 관리 지원 |
| (4) 기대효과 및 의의 | 1. 식품 낭비 문제 해결: 전 세계적으로 심각한 식품 낭비 문제를 해결하기 위해, 소비자가 보유한 식재료를 효율적으로 관리할 수 있도록 도와주어 가정 내 식품 폐기량을 줄일 수 있음<br>2. 건강 및 웰빙 트렌드 반영: 맞춤형 레시피 추천을 통해 다이어트, 고단백, 저탄수화물 등 개인의 건강 목표에 맞춘 식단 구성이 가능함<br>3. 신선도 분석을 통한 식중독 예방: 식재료의 신선도를 분석함으로써 상한 음식을 섭취하게 되는 상황을 사전에 방지할 수 있음 |
| (5) 주요 기능 리스트 | **1. 식재료 카테고리 분류 기능**<br> - 과일, 채소, 육류, 반찬, 냉동식품 등 카테고리를 세분화하여 식재료를 분류함 <br> - 카테고리 기반으로 정리되어 냉장고 내부의 식재료를 쉽게 확인 및 관리할 수 있음 <br><br> **2. 유통기한 자동 정렬 기능**<br> - 식재료 등록 시 유통기한을 자동으로 인식하거나 수동 입력을 받아 저장함 <br> - 유통기한이 임박한 식재료는 앱 내에서 자동으로 상단에 표시되어 낭비를 줄이고 조기 소비를 유도할 수 있음 <br><br> **3. 맞춤형 레시피 추천 기능** <br> - 사용자가 보유한 식재료를 기반으로, GPT-4o Mini 모델을 통해 오늘의 레시피 또는 개인의 건강 목표에 맞는 레시피(다이어트, 고단백 등)를 자동 추천함 <br> - 매번 레시피를 고민할 필요 없이, 식재료 소비와 건강한 식단 구성을 동시에 해결할 수 있음 <br> <br> **4. OCR 기반 식재료 정보 자동 등록 기능**<br> - 영수증 또는 식품 포장지의 정보를 OCR로 인식하여 이름, 유통기한, 카테고리 등을 자동 등록할 수 있음 <br> - 수작업 입력을 줄여 사용자 편의성을 높이고, 식재료 등록 누락도 방지할 수 있음 <br><br> **5. 신선도 분석 및 상태 시각화 기능 (YOLO / GPT-4 Vision 기반)**  <br> - 카메라로 촬영한 식재료 이미지를 YOLO 모델로 인식하고, GPT-4 Vision으로 색상·형태 변화 등을 분석해 신선도 상태를 판단함 <br> - 상할 가능성이 있는 재료를 미리 식별하여 건강 리스크를 줄이고 식중독 예방에도 기여할 수 있음. |

# **Project-Design & Implementation**

| **항목** | **내용** |
| --- | --- |
| (1) 요구사항 정의 | ![Image](https://github.com/user-attachments/assets/658f663a-da5b-4f03-9d62-83938b6ca2a8) ![Image](https://github.com/user-attachments/assets/fee1d1fd-dfe6-4719-bd34-007880625b76) |
| (2) 전체 시스템 구성 | ![Image](https://github.com/user-attachments/assets/cfc37033-b41c-4ec8-a843-b144c9c4b356) |
| (3) 주요엔진 및 기능 설계 | 1. **프론트엔드**<br>- 프레임워크로 리액트 네이티브를 사용하여 iOS, 안드로이드 모두 대상으로 하여 개발하며 typescript를 통해 안정성 있는 개발을 한다.<br>- AWS Amplify를 통해 배포하여 CI/CD 자동화와 애자일 방식의 개발을 목표로 한다.<br><br>2. **백엔드**<br>- Spring Boot 기반으로 REST API를 개발하며, Docker로 컨테이너화하여 EC2 인스턴스 내에서 구동된다.<br>- Blue-Green Deployment 방식으로 두 개의 컨테이너(port: 8080, 8081)를 운영하고, 무중단 배포를 위해 Nginx로 트래픽을 전환한다.<br>- 데이터베이스는 Amazon RDS(MySQL)를 사용하고, 이미지 및 파일 저장은 Amazon S3로 처리한다.<br><br>3. **AI**<br>- GPT-4o mini를 프롬프팅하여 원하는 재료 기반 레시피를 추천 받는다.<br>- 사진을 넣으면 OCR이 이미지에서 텍스트를 추출하여 식재료 상세정보를 출력한다.<br>- 입력한 이미지 기반으로 YOLO가 식재료의 상한 부분을 탐지하고, GPT-4 Vision이 해당 이미지 분석을 통해 신선도 상태를 텍스트로 출력해준다. |
| (4) 주요 기능의 구현 | **1. 맞춤형 레시피 추천 기능(GPT-4o Mini 기반)**<br>**사용 기술**<br> - GPT-4o Mini API (OpenAI API  기반 모델 사용 )<br>- 백엔드와 연동하여 프롬프트 기반 텍스트 및 이미지 생성 처리 <br>**구현 방식**<br> ① 사용자 식재료 데이터 수집<br> - 사용자가 냉장고에 등록한 식재료 목록을 백엔드 DB에서 불러옴<br>   - 유통기한이 임박한 재료 우선순위로 정렬<br> ② 프롬프트 구성 및 모델 호출<br>③ GPT-4o Mini API 호출 및 결과 파싱<br>- 모델의 응답을 전처리하여 제목, 재료, 조리법 등으로 분리<br>④ 영문 제목 생성<br>  - GPT-4o Mini에 레시피 제목을 영어로 변환 요청<br> - 이미지 생성에 활용할 수 있는 간결하고 직관적인 영어 문구 확보 <br>    ⑤ 레시피 이미지 생성 (DALL·E) <br>  - 영문 제목을 기반으로 DALL·E 모델을 호출하여 레시피에 어울리는 이미지 생성<br>⑥ 이미지 URL 영구화 처리<br>   - DALL·E의 임시 URL 문제를 해결하기 위해 이미지를 백엔드 서버가 다운로드 <br>- 이후 AWS S3에 업로드하여 영구적으로 접근 가능한 이미지 URL로 교체 <br>    ⑦ 최종 응답 반환 <br>   - 추천 레시피의 텍스트 정보와 이미지 URL을 함께 클라이언트에 반환<br><br>**2. 이미지로 신선도 상세 분석 기능 (YOLO + GPT-4o Vision 기반)**<br>**사용 기술**<br>- YOLOv8 또는 YOLOv11 (사전 학습 or 커스텀)<br>- GPT-4o Vision API<br>**구현 방식**<br>① 사용자 이미지 입력<br> - 사용자가 앱에서 식재료 사진을 촬영  <br>② YOLO 모델로 이상 감지 및 Bounding Box 생성<br> - 예) 김치 이미지 → YOLO가 이상 부분 감치 <br>  - Bounding BOX 좌표 및 감지 태그 결과를 추출<br>③ 감지 결과 + 원본 이미지를 GPT-4o Vision에 입력<br>④ GPT-4o Vision이 신선도 분석 결과 텍스트로 출력<br>- 예: “김치 표면에 하얀 점이 관찰됨 → 효모균일 가능성 있음”<br><br>**3. 이미지로 식재료 상세 정보 자동 입력 (OCR)**<br>**사용 기술**<br>- OCR 엔진: AWS Textract<br>**구현 방식**<br>①   1. 사용자 이미지 입력<br> - 사용자가 영수증, 식품 포장지, 라벨 등을 촬영 <br>② OCR로 텍스트 인식<br> - OCR 엔진을 통해 이미지에서 텍스트 추출 <br>- 예: 이름: 김치 / 유통기한: 2025.04.01 / 중량: 300g<br>③텍스트 전처리 및 파싱<br> - 정규 표현식, 키워드 기반 파싱을 통해 다음 정보를 자동 추출 : 이름, 유통기한, 중량/수량 <br>④ 자동 등록 폼으로 전달 <br> - 파싱된 정보를 식재료 등록 화면의 입력 폼에 자동 채워 넣음 <br> - 사용자는 확인 후 수정하거나 바로 저장 가능|
| (5) 기타 | 기타 사항을 기술 |



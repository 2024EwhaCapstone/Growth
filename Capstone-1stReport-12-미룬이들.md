<!-- Template for PROJECT REPORT of CapstoneDesign 2025-2H, initially written by khyoo -->
<!-- 본 파일은 2025년도 컴공 졸업프로젝트의 <1차보고서> 작성을 위한 기본 양식입니다. -->
<!-- 아래에 "*"..."*" 표시는 italic체로 출력하기 위해서 사용한 것입니다. -->
<!-- "내용"에 해당하는 부분을 지우고, 여러분 과제의 내용을 작성해 주세요. -->

# **Team-Info**

| **(1) 과제명** | 요리 초보를 위한 보유 식재료 기반 맞춤 레시피 큐레이터 서비스 CookIt |
| --- | --- |
| (2) 팀 번호 / 팀 이름 | 12-미룬이들 |
| (3) 팀 구성원 | 최윤진 (2176388): 리더, *프론트엔드, 외부 연락 담당* <br> 김승연 (2176073): 팀원, *프론트엔드, 일정 업데이트 담당* <br> 김채원 (2176110) : 팀원, *백엔드, 회의 안건 정리 담당*			 |
| (4) 팀 지도교수 | 심재형 교수님 |
| (5) 과제 분류 | *산학과제* |
| (6) 과제 키워드 | 레시피 추천, 신선도 확인, OCR, 이미지 생성, 식재료 관리 |
| (7) 과제 내용 요약 | COOKiT은 AI 기반의 스마트 요리 지원 서비스로 누구나 쉽게 요리하고 식재료를 관리할 수 있도록 도와줍니다. <br> <br> COOKiT은 사용자가 보유한 식재료를 기반으로 레시피를 추천하고, 유통기한 임박 재료를 한눈에 파악할 수 있도록 색상으로 구분해 보여줍니다. 이를 통해 초보자도 쉽게 요리를 시작할 수 있고, 남은 재료를 효과적으로 소비할 수 있습니다. <br> <br> 식재료 페이지에서는 식재료를 검색하거나 카테고리별로 분류하여 필요한 정보를 빠르게 확인할 수 있습니다. 사용자가 원하는 식재료를 선택하면 GPT가 자동으로 조합 가능한 레시피를 제안하며, 상세한 조리법과 이미지까지 제공해 요리에 대한 이해도를 높입니다. <br> <br> COOKiT은 번거로운 수기 입력을 줄이기 위해 OCR 기술을 활용하여 촬영한 식재료 정보를 자동으로 등록하며 GPT-4o Vision을 이용한 신선도 분석 기능으로 식재료 상태를 정확하게 파악할 수 있도록 돕습니다. <br> <br> 이러한 기능들을 통해 COOKiT은 식재료를 손쉽게 관리하고, 요리에 대한 진입 장벽을 낮춰 누구나 쉽고 즐겁게 요리할 수 있는 환경을 제공합니다. |

# **Project-Summary**

| **항목** | **내용** |
| --- | --- |
| (1) 문제 정의 | ~~**Target Customer**<br>1회 소비량이 적어 음식이 자주 남고, 냉장고 정리에 어려움을 느끼는 사용자<br><br>**Pain Points**<br>1. 냉장고 속 재료의 유통기한을 일일히 확인하기 어려움<br>2. 유통기한이 지나서 버려지는 식재료가 많아짐<br>3. 육안으로 상했는지 판단하기 힘들어 버려지는 경우가 많음<br>4. 냉장고 속 재료로 어떤 요리를 할지 떠올리기 힘듦 <br>~~ **Target Customer**<br>식재료에 지식이 없고 요리를 시작해보고 싶으나 진입장벽이 높다고 느끼는 요리 초보자들<br><br>**Pain Points**<br>1. 요리를 시도해보려고 하지만 요리를 많이 해본 사람이 아닌 이상 많은 식재료를 사야하는 상황이 생김.<br> 2. 가지고 있는 식재료로 어떤 요리를 할지 떠올리기 힘듦 <br> 3. 식재료 관리가 미숙해 보유한 식재료의 유통기한을 일일히 확인하기 어려움<br>4. 유통기한이 지나서 버려지는 식재료가 많아짐<br>5. 육안으로 상했는지 판단하기 힘들어 버려지는 경우가 많음<br> |
| (2) 기존연구와의 비교 | ![Image](https://github.com/user-attachments/assets/5abda646-c8f3-48b5-9bb1-c61f70c0b5ba) <br> 1. COOKiT은 기본 식재료 관리를  카테고리별 상세 분류와 유통기한 자동 추적 기능을 제공 <br>2. 레시피를 추천할 때 COOKiT은 GPT-4o mini 기반 맞춤형 추천과 DALL·E가 생성한 레시피 이미지를 제공하여 개인화된 경험을 제공 <br>3. COOKiT은 식재료를 OCR 기반 사진 촬영만으로 자동 등록이 가능 <br>4. COOKiT은 최신 AI의 활용과 직관적인 UX/UI로 사용자의 편의성을 극대화함
| (3) 제안 내용 | 1. GPT-4o Mini 모델 기반의 '오늘의 레시피' 및 ‘사용자 맞춤형 레시피’ 추천을 통해 보유한 식재료로 쉽게 요리를 시작할 수 있도록 함.<br>2. 과일, 채소, 육류, 반찬, 냉동식품 등 카테고리별 식재료 관리로 냉장고 속 재료 손쉽게 확인 가능<br>3. 유통기한 임박 식재료를 자동으로 표시하여 음식 낭비 방지<br>4. OCR 기반의 식재료 정보 스캔 및 자동 등록으로 번거로운 입력 과정 간소화<br>5. GPT-4 Vision을 활용한 식재료 신선도 분석 및 관리 지원 |
| (4) 기대효과 및 의의 | ~~1. 식품 낭비 문제 해결: 전 세계적으로 심각한 식품 낭비 문제를 해결하기 위해, 소비자가 보유한 식재료를 효율적으로 관리할 수 있도록 도와주어 가정 내 식품 폐기량을 줄일 수 있음<br>2. 건강 및 웰빙 트렌드 반영: 맞춤형 레시피 추천을 통해 다이어트, 고단백, 저탄수화물 등 개인의 건강 목표에 맞춘 식단 구성이 가능함<br>3. 신선도 분석을 통한 식중독 예방: 식재료의 신선도를 분석함으로써 상한 음식을 섭취하게 되는 상황을 사전에 방지할 수 있음~~<br><br>1.	**요리 진입장벽 낮춤**: 보유한 식재료 기반의 맞춤형 레시피 추천으로 요리 초보자도 쉽게 요리를 시작할 수 있음<br>	2.	**재료 관리의 어려움 해결**: 유통기한 임박 시 자동으로 알려주기 때문에 요리 초보자도 식재료를 쉽고 효율적으로 관리 가능<br>	3.	**신선도 분석으로 식중독 예방**: 식재료의 신선도를 분석하여 상한 음식을 섭취하는 상황을 사전에 방지할 수 있음 |
| (5) 주요 기능 리스트 |  **1. '오늘의 레시피' 추천 기능** <br> - 등록된 식재료 중 3가지를 조합하여 추천 레시피 제안해줌 <br> - 사용자가 별도 입력 없이 바로 확인 가능함 <br> - 매일 새로운 요리 아이디어 제공해줌 <br> <br>  **2. 마감 임박 식재료 자동 정렬 기능** <br> - 유통기한이 임박한 식재료를 자동으로 메인 화면에 표시해줌 <br> - 식재료 등록 시 유통기한 자동 인식 또는 수동 입력 가능함 <br> - 시각적으로 구분되는 색상으로 남은 기한을 한눈에 파악할 수 있음 <br> <br> **3. '사용자 취향 맞춤 레시피' 추천 기능** <br> - 사용자가 선택한 식재료 기반으로 GPT-4o mini가 3가지 레시피 추천해줌 <br> - 난이도, 조리 시간, 조리법까지 함께 제공됨 <br> - DALL·E로 생성된 이미지로 시각적 이해도 높여줌 <br><br> **4. 카테고리 별 분류하여 식재료 조회하기 기능** <br> - 과일, 채소, 육류, 반찬 등으로 세분화하여 조회 가능함 <br> - 카테고리 기반으로 정리되어 필요한 재료 빠르게 확인 가능함 <br> <br> **5. 식재료 상세정보 조회** <br> - 클릭 시 이름, 식품 유형, 유통기한, 신선도 등 상세 정보 확인 가능함 <br> - 기존 정보를 편집하거나 업데이트할 수 있음 <br> <br> **6. 식재료 상세정보 자동 등록 기능** <br> - 식재료 촬영 시 OCR로 이름, 유통기한 자동 인식함 <br> - 수작업 입력 없이 빠르게 등록 가능하며, 입력된 정보 확인한 뒤, 식재료를 바로 등록하거나 편집할 수 있음 <br> - 메모와 수량도 함께 기입하거나 수정할 수 있음 <br><br> **7. 등록한 식재료 신선도 상세 분석 기능** <br> - 촬영한 이미지를 기반으로 GPT-4Vision이 신선도를 분석해줌 <br> - 색상, 형태 변화 등으로 부패 가능성 판단해 사용자에게 알려줌 <br> - 분석 이력 저장되며 필요 시 재분석 가능함 |

# **Project-Design & Implementation**

| **항목** | **내용** |
| --- | --- |
| (1) 요구사항 정의 | ![Image](https://github.com/user-attachments/assets/658f663a-da5b-4f03-9d62-83938b6ca2a8) ![Image](https://github.com/user-attachments/assets/fee1d1fd-dfe6-4719-bd34-007880625b76) ![Image](https://github.com/user-attachments/assets/4421ad62-ec6e-4ac6-851f-343b5fa66c21)<br> 주요기능: '레시피 추천 기능 <br> 해당 기능은 사용자가 보유한 식재료를 기반으로, AI가 자동으로 요리를 추천해주는 핵심 기능이다. <br> ‘오늘의 레시피’: 보유 식재료 중 3가지를 무작위 조합해 매일 다른 레시피를 제안한다. <br> ‘사용자 취향 맞춤 레시피’: 사용자가 선택한 식재료를 기반으로 GPT-4o mini가 레시피 3가지를 생성해준다. <br> 각 레시피에는 조리 난이도, 예상 소요 시간, 상세 조리법이 함께 포함되며, DALL·E를 활용한 조리 이미지도 함께 제공되어 요리 초보자도 쉽게 따라 할 수 있다. <br> 이 기능은 사용자의 반복된 메뉴 고민을 줄이고, 식재료 활용도를 높이는 데 목적이 있다. <br><br>  주요기능: '신선도 분석 기능' <br> 해당 기능은 앱 UI를 통해 사용자가 식재료를 촬영하면 촬영된 식재료 이미지를 GPT-4o Vision이 색상, 표면 상태, 변형 등을 분석하여 부패 여부 또는 신선 상태를 판단한다. 분석 결과는 텍스트로 안내되며, 예를 들어 ‘곰팡이로 보이는 흰색 점’, ‘변색 우려’ 등의 의심 증상에 대해 사전 경고를 제공한다. 최근 분석 결과는 저장되며, 동일 식재료에 대해 재분석할 경우 가장 최근 데이터가 업데이트된다. <br>본 기능은 건강과 직결된 민감 요소인 식재료 위생을 보조하는 역할을 하며, 특히 육류, 생선, 채소류 등의 신선도가 요리에 미치는 영향을 고려해 구현하였다.|
| (2) 전체 시스템 구성 | ![Image](https://github.com/user-attachments/assets/7ea3ddb3-6d89-49bd-b0d9-d5854ffaa70e) <img  alt="image" src="https://github.com/user-attachments/assets/35fb03eb-dc6e-49a7-b3db-55d52131627b" />
| (3) 주요엔진 및 기능 설계 | 1. **프론트엔드**<br>- 프레임워크로 리액트 네이티브를 사용하여 iOS, 안드로이드 모두 대상으로 하여 개발하며 typescript를 통해 안정성 있는 개발을 한다.<br>- AWS Amplify를 통해 배포하여 CI/CD 자동화와 애자일 방식의 개발을 목표로 한다.<br><br>2. **백엔드**<br>- Spring Boot 기반으로 REST API를 개발하며, Docker로 컨테이너화하여 EC2 인스턴스 내에서 구동된다.<br>- Blue-Green Deployment 방식으로 두 개의 컨테이너(port: 8080, 8081)를 운영하고, 무중단 배포를 위해 Nginx로 트래픽을 전환한다.<br>- 데이터베이스는 Amazon RDS(MySQL)를 사용하고, 이미지 및 파일 저장은 Amazon S3로 처리한다.<br><br>3. **AI**<br>- GPT-4o mini를 프롬프팅하여 원하는 재료 기반 레시피를 추천 받는다. <br>- 사진을 넣으면 OCR이 이미지에서 텍스트를 추출하여 식재료 상세정보를 출력한다.<br>- 입력한 이미지 기반으로 식재료의 상한 부분을 탐지하고, GPT-4 Vision이 해당 이미지 분석을 통해 신선도 상태를 텍스트로 출력해준다.|
| (4) 주요 기능의 구현 | 1. 맞춤형 레시피 추천 기능(GPT-4o Mini 기반)<br>사용 기술<br> - GPT-4o Mini API (OpenAI API  기반 모델 사용 )<br>- 백엔드와 연동하여 프롬프트 기반 텍스트 및 이미지 생성 처리 <br>구현 방식<br> ① 사용자 식재료 데이터 수집<br> - 사용자가 냉장고에 등록한 식재료 목록을 백엔드 DB에서 불러옴<br>   - 유통기한이 임박한 재료 우선순위로 정렬<br> ② 프롬프트 구성 및 모델 호출 <br> <img width="646" alt="Image" src="https://github.com/user-attachments/assets/a03a0727-0329-4d1f-b56d-bfe1d00b3121" /><br>③ GPT-4o Mini API 호출 및 결과 파싱<br>- 모델의 응답을 전처리하여 제목, 재료, 조리법 등으로 분리<br>④ 영문 제목 생성<br>  - GPT-4o Mini에 레시피 제목을 영어로 변환 요청<br> - 이미지 생성에 활용할 수 있는 간결하고 직관적인 영어 문구 확보 <br>    ⑤ 레시피 이미지 생성 (DALL·E) <br>  - 영문 제목을 기반으로 DALL·E 모델을 호출하여 레시피에 어울리는 이미지 생성<br>⑥ 이미지 URL 영구화 처리<br>   - DALL·E의 임시 URL 문제를 해결하기 위해 이미지를 백엔드 서버가 다운로드 <br>- 이후 AWS S3에 업로드하여 영구적으로 접근 가능한 이미지 URL로 교체 <br>    ⑦ 최종 응답 반환 <br>   - 추천 레시피의 텍스트 정보와 이미지 URL을 함께 클라이언트에 반환<br><br>2. 이미지로 신선도 상세 분석 기능 (GPT-4o Vision 기반)<br>사용 기술<br>- GPT-4o Vision API<br>구현 방식<br>① 사용자 이미지 입력<br> - 사용자가 앱에서 식재료 사진을 촬영  <br>② 원본 이미지를 GPT-4o Vision에 입력<br>③ GPT-4o Vision이 신선도 분석 결과 텍스트로 출력 <img width="780" alt="Image" src="https://github.com/user-attachments/assets/1e7bc143-34a9-4e90-ac0a-3c0ad5a6db33" /><br>- 예: “김치 표면에 하얀 점이 관찰됨 → 효모균일 가능성 있음”<br><br>3. 이미지로 식재료 상세 정보 자동 입력 (OCR)<br>사용 기술<br>- OCR 엔진: AWS Textract<br>구현 방식<br>①   1. 사용자 이미지 입력<br> - 사용자가 영수증, 식품 포장지, 라벨 등을 촬영 <br>② OCR로 텍스트 인식<br> - OCR 엔진을 통해 이미지에서 텍스트 추출 <br>- 예: 이름: 김치 / 유통기한: 2025.04.01 / 중량: 300g<br>③텍스트 전처리 및 파싱<br> - 정규 표현식, 키워드 기반 파싱을 통해 다음 정보를 자동 추출 : 이름, 유통기한, 중량/수량 <br>④ 자동 등록 폼으로 전달 <br> - 파싱된 정보를 식재료 등록 화면의 입력 폼에 자동 채워 넣음 <br> - 사용자는 확인 후 수정하거나 바로 저장 가능|
| (5) 기타 | 기타 사항을 기술 |


